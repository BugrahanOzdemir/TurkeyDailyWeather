const temp=document.querySelector(".temperature"),cityName=document.querySelector(".cityName"),description=document.querySelector(".description"),searchBox=document.querySelector(".search-txt"),searchButton=document.querySelector(".search-btn"),precipitation=document.querySelector(".precipitation"),wind=document.querySelector(".wind"),weatherIcon=document.querySelector(".pictoFrame"),dayTime=document.querySelector(".dayTime");function setData(e){let n=new XMLHttpRequest;n.open("GET",e,!0),n.onload=function(){if(this.status>=200&&this.status<300){let e=JSON.parse(this.responseText).data[0],n=e.temp,i=`\n                ${n=(n=n.toString()).slice(0,4)}°\n            `;temp.innerHTML=i;let t=`\n            ${e.city_name}<span><sup>${e.country_code}</sup></span>\n            `;cityName.innerHTML=t;let a=`\n                ${e.weather.description}\n            `;description.innerHTML=a;let s=`\n                Yağmur Olasılığı: ${e.precip}%\n            `;precipitation.innerHTML=s;let c=e.wind_spd,d=`\n            Rüzhar Hızı: ${c=(c=c.toString()).slice(0,3)} km/H\n            `;wind.innerHTML=d;let r=e.weather.code;if(r>=200&&r<=202||r>=500&&r<=522||r>=300&&r<=302){let e='\n                    <div class="icon">\n                        <div class="cloud2"></div>\n                        <div class="rain"></div>\n                    </div>\n                ';weatherIcon.innerHTML=e}else if(r>=230&&r<=233){let e='\n                    <div class="icon" >\n                        <div class= "cloud2"></div>\n                        <div class="thunder">\n                            <div class="bolt"></div>\n                                <div class="bolt"></div>\n                        </div>\n                    </div>\n                ';weatherIcon.innerHTML=e}else if(r>=300&&r<=302){let e='\n                <div class="icon" >\n                    <div class= "cloud2"></div>\n                    <div class="drizzle"></div>\n                </div>\n            ';weatherIcon.innerHTML=e}else if(r>=600&&r<=610||r>=621&&r<=623){let e='\n                <div class="icon" >\n                    <div class= "cloud2"></div>\n                    <div class="snow"></div>\n                    <div class="flake"></div>\n                    <div class="flake"></div>\n                    <div class="flake"></div>\n                    <div class="flake"></div>\n                    <div class="flake"></div>\n                </div>\n            ';weatherIcon.innerHTML=e}else if(r>=800&&r<=801){let e='\n                <div class="icon" >\n                    <div class="rays">\n                    <div class="ray"></div>\n                    <div class="ray"></div>\n                    <div class="ray"></div>\n                    <div class="ray"></div>\n                    </div>\n                    <div class="sun"></div>\n                </div>\n            ';weatherIcon.innerHTML=e}else if(r>=801&&r<=804){let e='\n                <div class="icon" >\n                    <div class="cloud2 small-cloud"></div>\n                    <div class="cloud2"></div>\n                </div>\n                ';weatherIcon.innerHTML=e}if("d"==e.pod){const e=document.querySelector(".background");e.classList.remove("night"),e.classList.add("day")}else{const e=document.querySelector(".background");e.classList.remove("day"),e.classList.add("night")}let l=new Date,o=new Array(7);o[0]="Pazar",o[1]="Pazartesi",o[2]="Salı",o[3]="Çarşamba",o[4]="Perşembe",o[5]="Cuma",o[6]="Cumartesi";let v=`\n                ${o[l.getDay()]} ${l.getHours()}:${l.getMinutes()}\n            `;dayTime.innerHTML=v}else console.log("asd")},n.send()}document.addEventListener("DOMContentLoaded",function(){setData("https://api.weatherbit.io/v2.0/current?city=Ankara,TR&lang=tr&key=e2cf801ab51e4c628356b28f8574f894")}),searchBox.addEventListener("keyup",function(e){if(13===e.keyCode){const e=`https://api.weatherbit.io/v2.0/current?city=${searchBox.value},TR&lang=tr&key=e2cf801ab51e4c628356b28f8574f894`;""!=searchBox.value?setData(e):alert("Lütfen Bir Şehir Adı Girin.")}}),searchButton.addEventListener("click",function(){const e=`https://api.weatherbit.io/v2.0/current?city=${searchBox.value},TR&lang=tr&key=e2cf801ab51e4c628356b28f8574f894`;""!=searchBox.value?setData(e):alert("Lütfen Bir Şehir Adı Girin.")});